{"version":3,"sources":["../scripts.babel/brain.js"],"names":[],"mappings":"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","file":"brain.js","sourcesContent":["'use strict';\n\nfunction init() {\n  window.console.log('loadded');\n\n  function forceShowPinterest(show) {\n    let img = document.querySelector('#pinterest');\n\n    if (show) {\n      img.className = img.className + ' visible';\n      window.console.log('drag');\n    } else {\n      img.className = img.className.replace(/visible/g, '' );\n    }\n  }\n\n  function showImage(src) {\n    let picture = document.querySelector('#pinterest-picture');\n    picture.className = picture.className.replace(/hidden/g, '');\n    picture.src = src;\n    forceShowPinterest(true);\n  }\n\n\n  function attachImage() {\n    let img = document.createElement('img');\n    img.src = chrome.extension.getURL('images/pinterest.png');\n    img.id = 'pinterest';\n    let src = document.querySelector('body');\n    src.appendChild(img);\n\n    img.ondragover = function(event) {\n      event.preventDefault();\n    };\n\n    img.ondrop = function() {\n      window.console.log('drop');\n      let src = window.pinterestSrc;\n      showImage(src);\n      window.pinterestSrc = null;\n    };\n\n    img = document.createElement('img');\n    img.id = 'pinterest-picture';\n    src.appendChild(img);\n    img.className = 'hidden';\n\n\n    document.querySelector('#pinterest-picture').onclick = function(event) {\n      event.target.className = 'hidden';\n      forceShowPinterest(false);\n    };\n  }\n\n  function showPinterest(show) {\n    let img = document.querySelector('#pinterest');\n\n    if (show) {\n      img.className = img.className + 'pop';\n      window.console.log('drag');\n    } else {\n      window.setTimeout(() => {\n        img.className = img.className.replace(/pop/g, '' );\n      }, 500);\n    }\n  }\n\n  attachImage();\n\n  function checkImages() {\n    let images = Array.prototype.slice.call(document.querySelectorAll('img'));\n\n    images.forEach(image => {\n      image.ondragstart=function(event){\n        showPinterest(true);\n        window.console.log(event.target.src);\n        event.dataTransfer.src = event.target.src;\n        window.pinterestSrc = event.target.src;\n      };\n      image.ondragend=function(){\n        console.log(window.pinterestSrc);\n        showPinterest(false);\n      };\n      image.draggable = true;\n    });\n  }\n\n  window.setTimeout(checkImages, 1000);\n}\n\nwindow.onload = init;\n"]}